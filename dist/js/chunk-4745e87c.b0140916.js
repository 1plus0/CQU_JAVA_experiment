(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4745e87c"],{4468:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-card",{staticClass:"box-card"},[t("el-input",{staticClass:"filter-input",attrs:{placeholder:"请输入用户名称",size:"small"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),t("el-select",{staticClass:"filter-input",attrs:{placeholder:"请选择用户角色",size:"small"},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}},[t("el-option",{attrs:{label:"管理员",value:"0"}}),t("el-option",{attrs:{label:"教师",value:"1"}}),t("el-option",{attrs:{label:"学生",value:"2"}})],1),t("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small",plain:""},on:{click:function(t){return e.getData()}}},[e._v("搜索")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-right",size:"small"}},[e._v("重置")]),t("br"),t("el-button",{staticClass:"button",attrs:{type:"primary",size:"small",icon:"el-icon-plus",plain:""},on:{click:function(t){return e.handleCreate()}}},[e._v("新增")]),t("el-button",{staticClass:"button",attrs:{type:"success",size:"small",icon:"el-icon-download",plain:""}},[e._v("导入")]),t("el-button",{staticClass:"button",attrs:{type:"warning",size:"small",icon:"el-icon-upload2",plain:""}},[e._v("导出")]),t("el-button",{staticClass:"button",attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""}},[e._v("批量删除")])],1)],1),t("el-card",{staticClass:"box-card data"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small"}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名称",width:"180"}}),t("el-table-column",{attrs:{prop:"telephone",label:"联系电话"}}),t("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),t("el-table-column",{attrs:{prop:"role",label:"角色"},scopedSlots:e._u([{key:"default",fn:function(a){return[0==a.row.role?t("span",[e._v("管理员")]):e._e(),1==a.row.role?t("span",[e._v("教师")]):e._e(),2==a.row.role?t("span",[e._v("学生")]):e._e()]}}])}),t("el-table-column",{attrs:{prop:"state",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.state?t("el-tag",{attrs:{type:"success"}},[e._v("启用")]):e._e(),0==a.row.state?t("el-tag",{attrs:{type:"success"}},[e._v("禁用")]):e._e()]}}])}),t("el-table-column",{attrs:{prop:"createDate",label:"创建日期"}}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{staticClass:"button",attrs:{type:"primary",size:"small",icon:"el-icon-edit",plain:""},on:{click:function(t){return e.handleUpdate(a.row)}}},[e._v("编辑 ")]),t("el-button",{staticClass:"button",attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:function(t){return e.deleteUser(a.row.id)}}},[e._v("删除 ")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,layout:"total, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),t("div",{staticClass:"add-form"},[t("el-dialog",{attrs:{title:"新增用户",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules}},[t("el-form-item",{attrs:{label:"用户名称",prop:"username","label-position":"right","label-width":"100px"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1),t("el-form-item",{attrs:{label:"用户昵称",prop:"nickname","label-position":"right","label-width":"100px"}},[t("el-input",{model:{value:e.formData.nickname,callback:function(t){e.$set(e.formData,"nickname",t)},expression:"formData.nickname"}})],1),t("el-form-item",{attrs:{label:"联系电话",prop:"telephone","label-position":"right","label-width":"100px"}},[t("el-input",{model:{value:e.formData.telephone,callback:function(t){e.$set(e.formData,"telephone",t)},expression:"formData.telephone"}})],1),t("el-form-item",{attrs:{label:"用户角色","label-position":"right","label-width":"100px",prop:"role"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择用户角色"},model:{value:e.formData.role,callback:function(t){e.$set(e.formData,"role",t)},expression:"formData.role"}},[t("el-option",{attrs:{label:"管理员",value:"0"}}),t("el-option",{attrs:{label:"教师",value:"1"}}),t("el-option",{attrs:{label:"学生",value:"2"}})],1)],1),t("el-form-item",{attrs:{label:"用户状态","label-position":"right","label-width":"100px"}},[t("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用","active-value":1,"inactive-value":0},model:{value:e.formData.state,callback:function(t){e.$set(e.formData,"state",t)},expression:"formData.state"}})],1)],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd()}}},[e._v("确 定")])],1)],1)],1),t("div",{staticClass:"update-form"},[t("el-dialog",{attrs:{title:"修改信息",visible:e.dialogFormVisibleEdit},on:{"update:visible":function(t){e.dialogFormVisibleEdit=t}}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules}},[t("el-form-item",{attrs:{label:"用户名称",prop:"username","label-position":"right","label-width":"100px"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1),t("el-form-item",{attrs:{label:"用户昵称",prop:"nickname","label-position":"right","label-width":"100px"}},[t("el-input",{model:{value:e.formData.nickname,callback:function(t){e.$set(e.formData,"nickname",t)},expression:"formData.nickname"}})],1),t("el-form-item",{attrs:{label:"联系电话",prop:"telephone","label-position":"right","label-width":"100px"}},[t("el-input",{model:{value:e.formData.telephone,callback:function(t){e.$set(e.formData,"telephone",t)},expression:"formData.telephone"}})],1),t("el-form-item",{attrs:{label:"用户角色","label-position":"right","label-width":"100px",prop:"role"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择用户角色"},model:{value:e.formData.role,callback:function(t){e.$set(e.formData,"role",t)},expression:"formData.role"}},[t("el-option",{attrs:{label:"管理员",value:0}}),t("el-option",{attrs:{label:"教师",value:1}}),t("el-option",{attrs:{label:"学生",value:2}})],1)],1),t("el-form-item",{attrs:{label:"用户状态","label-position":"right","label-width":"100px"}},[t("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用","active-value":1,"inactive-value":0},model:{value:e.formData.state,callback:function(t){e.$set(e.formData,"state",t)},expression:"formData.state"}})],1)],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleEdit()}}},[e._v("确 定")])],1)],1)],1)],1)},i=[],o={data(){return{dialogFormVisible:!1,dialogFormVisibleEdit:!1,name:"",date:"",tableData:[],formData:{username:"",telephone:"",nickname:"",role:"",state:""},pagination:{currentPage:1,pageSize:7,total:0},rules:{username:[{required:!0,message:"请输入用户名称",trigger:"blur"}],nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"}],telephone:[{required:!0,message:"请输入联系号码",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"change"}]}}},mounted(){this.handleQuery()},methods:{handleCreate(){this.dialogFormVisible=!0},handleUpdate(e){this.dialogFormVisibleEdit=!0,this.formData=e},handleQuery(){this.axios.get("/users?currentPage="+this.pagination.currentPage+"&pageSize="+this.pagination.pageSize).then(e=>{200==e.data.code&&(this.tableData=e.data.data.list,this.pagination.total=e.data.data.total)})},handleAdd(){this.axios.post("/users",this.formData).then(e=>{200==e.data.code?(this.$message.success("用户信息添加成功"),this.dialogFormVisible=!1,this.handleQuery(),this.formData={}):this.$message.error("用户信息添加失败,稍后重试")}).catch(()=>{this.$message.waring("网络连接错误")})},handleEdit(){this.axios.put("/users",this.formData).then(e=>{200==e.data.code?(this.$message.success("用户信息修改成功"),this.dialogFormVisibleEdit=!1,this.handleQuery(),this.formData={}):this.$message.error("用户信息修改失败,稍后重试")}).catch(()=>{this.$message.waring("网络连接错误")})},deleteUser(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.axios.delete("/users/"+e).then(e=>{200==e.data.code?(this.$message.success("数据删除成功"),this.handleQuery()):this.$message.error("数据删除失败！")})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},handleCurrentChange(e){this.pagination.currentPage=e,this.handleQuery()},getData(){this.axios.get("/query?currentPage="+this.pagination.currentPage+"&pageSize="+this.pagination.pageSize+"&name="+this.name+"&date="+this.date).then(e=>{200==e.data.code&&(this.tableData=e.data.data.list,this.pagination.total=e.data.data.total)})}}},s=o,r=(a("f39b"),a("2877")),n=Object(r["a"])(s,l,i,!1,null,"2616311a",null);t["default"]=n.exports},"7b28":function(e,t,a){},f39b:function(e,t,a){"use strict";a("7b28")}}]);
//# sourceMappingURL=chunk-4745e87c.b0140916.js.map